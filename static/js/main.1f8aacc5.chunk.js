(this.webpackJsonpdiffmatchpatch=this.webpackJsonpdiffmatchpatch||[]).push([[2],{275:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return filterItems}));var C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(49),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_axa_fr_react_toolkit_table__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(394),_axa_fr_react_toolkit_table__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_axa_fr_react_toolkit_table__WEBPACK_IMPORTED_MODULE_2__),_TableItem__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(516),_StatsTable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(526),filterItems=function(e,t){return e.filter((function(a){return"KO"===t?a.left.Body!==a.right.Body:"OK"===t?a.left.Body===a.right.Body:e}))},reverseString=function(e){return Array.from(e).reverse().join("")},getExtensionName=function(e){var t=reverseString(e),a=t.indexOf(".")+1,r=t.indexOf("_"),n=t.substr(a,r-a);return reverseString(n)},filterExtensions=function(e,t){return e.filter((function(a){return"Tout"===t?e:"JPG/JPEG"===t?"JPG"===getExtensionName(a.fileName).toUpperCase()||"JPEG"===getExtensionName(a.fileName).toUpperCase():getExtensionName(a.fileName).toUpperCase()===t}))},filterStatusCode=function(e,t){if("Tout"===t)return e;var a=parseInt(t);return e.filter((function(e){return e.left.StatusCode===a||e.right.StatusCode===a}))},filterSearchBar=function(e,t){return e.filter((function(e){return e.fileName.includes(t)||e.left.Body.includes(t)||e.right.Body.includes(t)||e.left.Url.includes(t)||e.right.Url.includes(t)}))},sortTime=function(e,t,a){var r=JSON.parse(JSON.stringify(e));return"Croissant"===t?r.sort((function(e,t){return"Gauche"===a?e.left.TimeMs-t.left.TimeMs:e.right.TimeMs-t.right.TimeMs})):"D\xe9croissant"===t&&r.sort((function(e,t){return"Gauche"===a?t.left.TimeMs-e.left.TimeMs:t.right.TimeMs-e.right.TimeMs})),r},computeNumberPages=function(e,t){if(!e)return 1;var a=t<1?1:t,r=e.length;return r>0?Math.ceil(r/a):1},formatBody=function formatBody(bodyJson,side,item){var rawBodyInput=bodyJson,rawBodyOutput=rawBodyInput;return eval(side),rawBodyOutput},formatJson=function(e){var t=e.items,a=e.filters;if(!a.filterLeft&&!a.filterRight)return t;try{return JSON.parse(JSON.stringify(t)).map((function(e){var t=e,r=t.left.Body,n=t.right.Body;return a.filterLeft&&(r=formatBody(e.left.Body,a.filterLeft,e)),a.filterRight&&(n=formatBody(e.right.Body,a.filterRight,e)),t.left.Body=r,t.right.Body=n,t}))}catch(r){return console.log(r),t}},TableResult=function(e){var t=e.state,a=e.setState,r=formatJson(t),n=filterItems(r,t.filters.filterName),l=filterStatusCode(n,t.filters.currentStatusCode),i=filterExtensions(l,t.filters.extensionName),s=sortTime(i,t.filters.sortTimeType,t.filters.timeSide),c=filterSearchBar(s,t.filters.searchedString),o=function(e,r,n){var l=0;n>1&&(l=n-1);var i=0;r>0&&(i=r);var s=e.length,c=l*i,o=s<c+i?s:c+i;return o<c&&(c=o-s>=0?o-s:0,a(Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t),{},{filters:Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t.filters),{},{pagingCurrent:1})}))),e.slice(c,o)}(c,t.filters.pagingSelect,t.filters.pagingCurrent);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_StatsTable__WEBPACK_IMPORTED_MODULE_4__.a,{items:r,state:t,setState:a}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TableContentMemo,{state:t,pageItems:o,changeItemValues:function(e,r,n){var l=[],i=!0;return t.items.forEach((function(t){if(t.fileName===e.fileName)try{var a=JSON.stringify(JSON.parse(r)),s=JSON.stringify(JSON.parse(n));t.left.Body=a,t.right.Body=s}catch(c){i=!1}l.push(t)})),a(Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t),{},{items:l})),i},filteredSearchBar:c,setState:a}))},TableContent=function(e){var t=e.state,a=e.pageItems,r=e.changeItemValues,n=e.filteredSearchBar,l=e.setState;return 0===a.length?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",{className:"error-message"},"Il n'y a aucun fichier correspondant \xe0 cette configuration de filtres !"):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment,null,a.map((function(e){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_TableItem__WEBPACK_IMPORTED_MODULE_3__.a,{key:e.id,item:e,regex:t.filters.regexModifier,imageDirectory:t.imageDirectory,changeItemValues:r,compareLocation:t.compareLocation,fetchFunction:fetch})})),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_axa_fr_react_toolkit_table__WEBPACK_IMPORTED_MODULE_2__.Paging,{currentPage:t.filters.pagingCurrent,numberPages:computeNumberPages(n,t.filters.pagingSelect),numberItems:t.filters.pagingSelect,id:"paging",onChange:function(e){l(Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t),{},{filters:Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(C_gitaxa_ml_cli_src_Ml_Cli_WebApp_ClientApp_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},t.filters),{},{pagingSelect:e.numberItems,pagingCurrent:t.filters.pagingCurrent>computeNumberPages(n,e.numberItems)?1:e.page})}))}}))},TableContentMemo=react__WEBPACK_IMPORTED_MODULE_1___default.a.memo(TableContent);__webpack_exports__.a=TableResult},516:function(e,t,a){"use strict";var r=a(49),n=a(23),l=a(12),i=a.n(l),s=a(195),c=a(7),o=a.n(c),_=a(189),u=a(405),m=a(212),d=a.n(m),f=a(399),p=new(a.n(f).a),b=function(e,t){p.Diff_Timeout=parseFloat(10);var a=p.diff_main(e,t);return p.diff_cleanupSemantic(a),p.diff_prettyHtml(a)},g=function(e,t){var a=document.createElement("textarea");a.value="fileName"===t?e.fileName.substr(0,e.fileName.lastIndexOf("_")):"left"===t?e.left.FileDirectory:e.right.FileDirectory,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a)},E=function(e,t){var a=e+"/datasets?";return t.toString().replace(a,e+"datasets/")},h=function(){var e=Object(s.a)(i.a.mark((function e(t,a,r,n,l){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/files/save/saveContent",s={name:t,compareLocation:a,content:JSON.stringify(r),direction:n},e.next=4,l("/files/save/saveContent",{method:"POST",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify(s)});case 4:case"end":return e.stop()}}),e)})));return function(t,a,r,n,l){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,{method:"GET",header:{"content-type":"application/json"}});case 2:if(!(r=e.sent).ok){e.next=10;break}return e.next=6,r.json();case 6:return n=e.sent,e.abrupt("return",n.map((function(e){return"/files/"+new URLSearchParams({value:e})})));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();t.a=function(e){var t=e.regex,a=e.item,l=e.imageDirectory,m=e.compareLocation,f=e.changeItemValues,p=e.fetchFunction,O=Object(c.useState)({isAnnotating:!1,fileUrls:[],isCollapsed:!0,leftContent:"",rightContent:"",isJsonInvalid:!1}),y=Object(n.a)(O,2),C=y[0],N=y[1];Object(c.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,N(Object(r.a)(Object(r.a)({},C),{},{fileUrls:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}C.isAnnotating&&function(){e.apply(this,arguments)}()}),[t]);var T=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!1!==C.isAnnotating){e.next=5;break}return e.next=4,S();case 4:t=e.sent;case 5:N(Object(r.a)(Object(r.a)({},C),{},{isAnnotating:!C.isAnnotating,fileUrls:t}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(s.a)(i.a.mark((function e(){var r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={fileName:a.fileName,regex:t||a.right.ImageDirectoryRegex,directory:l},(s=new URL(window.location.href.toString().toLowerCase()+"/datasets")).search=Object.entries(r).map((function(e){var t=Object(n.a)(e,2),a=t[0],r=t[1];return"".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(r))})).join("&"),c=E(window.location.href,s),e.next=6,v(c,p);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,l,s,c,o,_,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(a=a).left,l=a.right,s=C.leftContent,c=C.rightContent,o=f(a,s||n.Body,c||l.Body),N(Object(r.a)(Object(r.a)({},C),{},{isJsonInvalid:!o})),!o){e.next=10;break}return"l"===t?(u=n.FileDirectory,n.Body=s,_=n):(u=l.FileDirectory,l.Body=c,_=l),e.next=10,h(u,m,_,t,p);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"table-result"},o.a.createElement("div",{className:"table-result__header"},o.a.createElement("div",null,o.a.createElement("p",null,"R\xe9sultat fichier : ",a.fileName),o.a.createElement("h2",null,a.left.Body!==a.right.Body?o.a.createElement("span",{className:"table-result__row--red"},"KO"):o.a.createElement("span",{className:"table-result__row--green"},"OK")," Ratio temps \xe0 gauche - temps \xe0 droite : ",(a.right.TimeMs-a.left.TimeMs)/1e3," secondes")),o.a.createElement("div",{className:"table-result__buttons-group"},o.a.createElement("div",{className:"table-result__copy-button",onClick:function(){g(a,"name")}},"Copier"),o.a.createElement("div",{className:"table-result__collapse-button",onClick:function(){N(Object(r.a)(Object(r.a)({},C),{},{collapsed:!C.isCollapsed}))}},C.isCollapsed?"-":"+"))),C.isCollapsed&&o.a.createElement(o.a.Fragment,null,C.imageDirectory&&o.a.createElement("div",{className:"table-result__elements-container"},o.a.createElement("button",{className:"table-result__parse-button",type:"button",onClick:T},o.a.createElement("span",null,C.isAnnotating?"Fermer Annotation":"Annoter"))),C.isAnnotating&&o.a.createElement(o.a.Fragment,null,0===C.fileUrls.length&&o.a.createElement("div",null,o.a.createElement("p",null,"Aucun fichier correspondant n'a \xe9t\xe9 trouv\xe9 sur votre disque.",o.a.createElement("br",null)," Plusieurs raisons sont possibles:",o.a.createElement("br",null)," - Il n'existe pas d'image correspondant \xe0 ce fichier sur votre disque;",o.a.createElement("br",null)," - L'attribut regex sp\xe9cifi\xe9 ne correspond \xe0 aucun fichier;",o.a.createElement("br",null)," - Le r\xe9pertoire des images de ce fichier n'existe pas.")),C.fileUrls.map((function(e,t){return o.a.createElement("div",{key:"urlListItem "+t,className:"table-margin table-margin--link-margin width-100"},o.a.createElement("div",{className:"width-100"},o.a.createElement("img",{src:e,alt:"file_image"})))})),o.a.createElement("div",{className:"table-result__elements-container"},o.a.createElement(_.Tabs,{className:"tabs__header"},o.a.createElement(_.Tabs.Tab,{title:"Gauche"},o.a.createElement("div",{className:"tabs__container tabs__container--justify width-100"},o.a.createElement(u.a,{id:"monacoEditorLeft"+a.fileName,height:window.screen.height/2,language:"json",value:JSON.stringify(JSON.parse(a.left.Body),null,2),onChange:function(e){return N(Object(r.a)(Object(r.a)({},C),{},{leftContent:e}))},options:{theme:"vs-dark",scrollbar:{horizontal:"visible"}}})),o.a.createElement("div",{className:"tabs__button-mt"},C.isJsonInvalid&&o.a.createElement("div",{className:"error-message"},o.a.createElement("span",null,"Le JSON modifi\xe9 est invalide !")),o.a.createElement(d.a,{onClick:function(){return M("l")}},"Sauvegarder"))),o.a.createElement(_.Tabs.Tab,{title:"Droite"},o.a.createElement("div",{className:"tabs__container tabs__container--justify width-100"},o.a.createElement(u.a,{id:"monacoEditorRight"+a.fileName,height:window.screen.height/2,language:"json",value:JSON.stringify(JSON.parse(a.right.Body),null,2),onChange:function(e){return N(Object(r.a)(Object(r.a)({},C),{},{rightContent:e}))},options:{theme:"vs-dark",scrollbar:{horizontal:"visible"}}})),o.a.createElement("div",{className:"tabs__button-mt"},C.jsonParsingError&&o.a.createElement("div",{className:"error-message"},o.a.createElement("span",null,"Le JSON modifi\xe9 est invalide !")),o.a.createElement(d.a,{onClick:function(){return M("r")}},"Sauvegarder"))))),"}"),o.a.createElement("div",{className:"table-result__column-container"},o.a.createElement("div",{className:"table-result__column"},o.a.createElement("div",{className:"table-margin"},o.a.createElement("div",null,"Copier le lien vers le fichier local dans votre presse-papiers:"),o.a.createElement("button",{className:"table-result__copy-clipboard-button",onClick:function(){g(a,"left")}},"Cliquez ici"),o.a.createElement("h3",null,a.left.Url),o.a.createElement("div",{className:"table-result__column--time-span"},"Time: ",a.left.TimeMs/1e3," seconds"),o.a.createElement("div",null,a.left.Body))),o.a.createElement("div",{className:"table-result__column table-result__column--border-left"},o.a.createElement("div",{className:"table-margin"},o.a.createElement("div",null,"Copier le lien vers le fichier local dans votre presse-papiers:"),o.a.createElement("button",{className:"table-result__copy-clipboard-button",onClick:function(){g(a,"right")}},"Cliquez ici"),o.a.createElement("h3",null,a.right.Url),o.a.createElement("div",{className:"table-result__column--time-span"},"Time: ",a.right.TimeMs/1e3," seconds"),o.a.createElement("div",null,a.right.Body)))),o.a.createElement("div",{className:"table-result__row table-result__row--overflow",dangerouslySetInnerHTML:{__html:b(a.left.Body,a.right.Body)}})))}},526:function(e,t,a){"use strict";var r=a(49),n=a(7),l=a.n(n),i=a(23),s=a(882),c=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if("string"===typeof t)return null;for(var l in Array.isArray(t)&&t.map((function(t,r){return e(t,a,r.toString()+"_",n)})),t)if(!n.includes(l)){var i=t[l];"string"===typeof i?a[r+l]=i:"object"===typeof i&&e(i,a,r+l+"_",n)}return a},o=function(e,t){for(var a={},r=0,n=Object.entries(e);r<n.length;r++){var l,c=Object(i.a)(n[r],2),o=c[0],_=c[1],u=null;o in t&&(u=t[o]),a[o]=s(null!==_&&void 0!==_?_:"",null!==(l=u)&&void 0!==l?l:"")}return a};function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var a=JSON.parse(e),r=c(a,{},"",t);return r}catch(n){return{}}}var u=a(275),m=function(e){var t=e.statusCodes,a=Object.keys(t).map((function(e,a){var r=t[e];return l.a.createElement("div",{className:"stats__results",key:e},l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Status Code : ",e," ")),l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Nombre \xe0 gauche : ",r.left," ")),l.a.createElement("div",{className:"stats__results-div"}," ",l.a.createElement("span",null,"Nombre \xe0 droite : ",r.right," ")))}));return l.a.createElement(l.a.Fragment,null,a)},d=function(e){var t=e.scores,a=Object.keys(t).map((function(e,a){var r=t[e];return l.a.createElement("div",{className:"stats__results",key:e},l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Cl\xe9 : ",e," ")),l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("ul",null,l.a.createElement("li",null,"Levenshtein score : ",r.score," "),l.a.createElement("li",null,"Number OK : ",r.number_ok," "),l.a.createElement("li",null,"Number KO : ",r.number_ko," "),l.a.createElement("li",null,"Number Total : ",r.number_ok+r.number_ko," "))),l.a.createElement("div",{className:"stats__results-div"}," ",l.a.createElement("span",null,"Percentage OK : ",Math.round(r.number_ok/(r.number_ok+r.number_ko)*100*100)/100," % ")))}));return l.a.createElement(l.a.Fragment,null,a)};t.a=function(e){var t=e.state,a=e.setState,n=e.items,s=function(e){var t={rightTimeMs:0,leftTimeMs:0};return e.forEach((function(e){t.rightTimeMs=t.rightTimeMs+e.right.TimeMs,t.leftTimeMs=t.leftTimeMs+e.left.TimeMs})),t}(n),c=function(e){var t={};return e.forEach((function(e){if(!e.right.StatusCode||!e.left.StatusCode)return e;t[e.right.StatusCode.toString()]?t[e.right.StatusCode.toString()].right++:t[e.right.StatusCode.toString()]={right:1,left:0},t[e.left.StatusCode.toString()]?t[e.left.StatusCode.toString()].left++:t[e.left.StatusCode.toString()]={right:0,left:1}})),t}(n),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r={},n=/[0-9]+_/gi;return e.forEach((function(e){for(var l=_(e.left.Body,t),s=_(e.right.Body,t),c=o(l,s),u=0,m=Object.entries(c);u<m.length;u++){var d=Object(i.a)(m[u],2),f=d[0],p=d[1],b=f;a&&(b=f.replace(n,"")),b in r?(r[b].score+=c[f],r[b].number_ok+=0===p?1:0,r[b].number_ko+=0!==p?1:0):r[b]={score:p,number_ok:0===p?1:0,number_ko:0!==p?1:0}}})),r}(n,["document_id","document_type"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"stats",key:"StatsTableKey"},l.a.createElement("div",{className:"stats__title"},l.a.createElement("span",null,"Statistiques :"),l.a.createElement("div",{className:"table-result__collapse-button",onClick:function(e){a(Object(r.a)(Object(r.a)({},t),{},{isStatsTableShowed:!t.isStatsTableShowed}))}},t.isStatsTableShowed?"-":"+")),t.isStatsTableShowed&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"stats__results"},l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Fichiers OK : ",Object(u.b)(n,"OK").length)),l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Fichiers KO : ",Object(u.b)(n,"KO").length)),l.a.createElement("div",{className:"stats__results-div"},l.a.createElement("span",null,"Total : ",n.length))),l.a.createElement("div",{className:"stats__results"},l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Temps total gauche : ",s.leftTimeMs/1e3," secondes")),l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Temps total droite : ",s.rightTimeMs/1e3," secondes")),l.a.createElement("div",{className:"stats__results-div"},l.a.createElement("span",null,"Diff\xe9rence : ",(s.rightTimeMs-s.leftTimeMs)/1e3," secondes soit +",Math.round(s.leftTimeMs/s.rightTimeMs*100),"% de gain"))),l.a.createElement("div",{className:"stats__results"},l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Temps moyen gauche : ",s.leftTimeMs/n.length/1e3," secondes")),l.a.createElement("div",{className:"stats__results-div stats__results-div--border"},l.a.createElement("span",null,"Temps moyen droite : ",s.rightTimeMs/n.length/1e3," secondes")),l.a.createElement("div",{className:"stats__results-div"},l.a.createElement("span",null,"Diff\xe9rence : ",(s.rightTimeMs-s.leftTimeMs)/n.length/1e3," secondes soit +",Math.round(s.leftTimeMs/s.rightTimeMs*100),"% "))),l.a.createElement(m,{statusCodes:c}),l.a.createElement(d,{scores:f}))))}},527:function(e,t,a){e.exports=a(900)},532:function(e,t,a){},533:function(e,t,a){},894:function(e,t,a){},900:function(e,t,a){"use strict";a.r(t),a.d(t,"App",(function(){return A}));var r=a(7),n=a.n(r),l=a(87),i=a.n(l),s=(a(532),a(533),a(534),a(535),a(536),a(23)),c=a(274),o=a(275),_=a(12),u=a.n(_),m=a(49),d=a(195),f=a(395),p=a(230),b=a(189),g=a(212),E=a.n(g),h=a(314),v=a(524),O=a.n(v),y=a(404),C=a.n(y),N=(a(892),a(893),function(e){var t=e.labelText,a=e.updateRegex,l=Object(r.useState)({textAreaContent:""}),i=Object(s.a)(l,2),c=i[0],o=i[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{className:"tabs__title"},t),n.a.createElement(h.Textarea,{id:"text_area_regexModifier",name:"TextAreaRegexModifier",value:c.textAreaContent,onChange:function(e){o({textAreaContent:e.value})}}),n.a.createElement(E.a,{onClick:function(){return a(c.textAreaContent)}},"Appliquer"))}),T=[{value:"KO",label:"KO"},{value:"OK",label:"OK"},{value:"Tout",label:"Tout"}],S=[{value:"Tout",label:"Tout"},{value:"PNG",label:"PNG"},{value:"JPG/JPEG",label:"JPG/JPEG"},{value:"PDF",label:"PDF"},{value:"TIFF",label:"TIFF"}],M=[{value:"Neutre",label:"Neutre"},{value:"Croissant",label:"Croissant"},{value:"D\xe9croissant",label:"D\xe9croissant"}],j=[{value:"Gauche",label:"Gauche"},{value:"Droite",label:"Droite"}],B=!1,x=function(e){var t=e.state,a=e.setState,l=Object(r.useState)({filterRightTemp:'\ntry { \n    let body = JSON.parse(rawBodyInput);\n    rawBodyOutput = JSON.stringify(body);\n} catch(ex) {\n    console.log("Plantage parsing right");\n    console.log(ex.toString());\n    rawBodyOutput = rawBodyInput;\n}',filterLeftTemp:'\ntry { \n    let body = JSON.parse(rawBodyInput);\n    rawBodyOutput = JSON.stringify(body);\n} catch(ex) {\n    console.log("Plantage parsing left");\n    console.log(ex.toString());\n    rawBodyOutput = rawBodyInput;\n}'}),i=Object(s.a)(l,2),c=i[0],o=i[1],_=function(e,t){for(var a=e.toString(),r=0;r<t.length;r++)if(t[r].value===a)return;var n={value:a,label:a};t.push(n)},g=function(e){var t=[{value:"Tout",label:"Tout"}];return e.forEach((function(e){_(e.left.StatusCode,t),_(e.right.StatusCode,t)})),t};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"file-input"},n.a.createElement(f.File,{id:"file_loader",name:"placeJsonFile",accept:"application/*, text/plain",onChange:function(e){var r=e.values[0].file;if(r.size>0){B=!1;var n,l=new FileReader;l.onloadend=Object(d.a)(u.a.mark((function r(){var i,s,c,o,_;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=JSON.parse(l.result),s=Array.isArray(i),c=s?"":i.CompareLocation,u=s?i:i.Content,o=u.map((function(e){return{fileName:e.FileName,left:{Url:e.Left.Url,FileName:e.Left.FileName,FileDirectory:e.Left.FileDirectory,ImageDirectory:e.Left.ImageDirectory,ImageDirectoryRegex:e.Left.ImageDirectoryRegex,StatusCode:e.Left.StatusCode,Body:e.Left.Body,Headers:e.Left.Headers,TimeMs:e.Left.TimeMs,TicksAt:e.Left.TicksAt},right:{Url:e.Right.Url,FileName:e.Right.FileName,FileDirectory:e.Right.FileDirectory,ImageDirectory:e.Right.ImageDirectory,ImageDirectoryRegex:e.Right.ImageDirectoryRegex,StatusCode:e.Right.StatusCode,Body:e.Right.Body,Headers:e.Right.Headers,TimeMs:e.Right.TimeMs,TicksAt:e.Right.TicksAt},id:O()(),parse:!1,collapse:!0}})),_=g(o),0!==o.length&&(n=o[0].right.ImageDirectory),a(Object(m.a)(Object(m.a)({},t),{},{fileName:e.values[0].file.name,imageDirectory:n,compareLocation:c,items:o,statusCodes:_}));case 7:case"end":return r.stop()}var u}),r)}))),l.readAsText(r)}else a(Object(m.a)(Object(m.a)({},t),{},{fileName:e.values[0].file.name,items:[]})),B=!0},maxSize:2e9})),n.a.createElement("div",{className:"tabs"},n.a.createElement(b.Tabs,{className:"tabs__header"},n.a.createElement(b.Tabs.Tab,{title:"Filtres"},n.a.createElement("div",{className:"tabs__container tabs__container--justify"},n.a.createElement("div",{className:"tabs__filter-container"},n.a.createElement("p",{className:"tabs__title"},"\xc9tat de fichier :"),n.a.createElement(p.SelectBase,{id:"select_type",name:"SelectType",value:t.filters.filterName,options:T,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{filterName:e.value,pagingCurrent:1})}))}}),n.a.createElement("p",{className:"tabs__title"},"Extensions de fichiers:"),n.a.createElement(p.SelectBase,{id:"extension_type",name:"ExtensionType",value:t.filters.extensionName,options:S,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{extensionName:e.value,pagingCurrent:1})}))}}),n.a.createElement("p",{className:"tabs__title"},"Statuts serveur:"),n.a.createElement(p.SelectBase,{id:"status_code_type",name:"StatusCodeType",value:t.filters.currentStatusCode,options:t.statusCodes,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{currentStatusCode:e.value,pagingCurrent:1})}))}})),n.a.createElement("div",{className:"tabs__filter-container"},n.a.createElement("p",{className:"tabs__title"},"Barre de recherche:"),n.a.createElement(h.Textarea,{id:"text_area_searchbar",name:"TextAreaSearchBar",value:t.filters.searchedString,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{searchedString:e.value})}))}})))),n.a.createElement(b.Tabs.Tab,{title:"Temps"},n.a.createElement("div",{className:"tabs__container tabs__container--justify"},n.a.createElement("div",{className:"tabs__filter-container"},n.a.createElement("p",{className:"tabs__title"},"C\xf4t\xe9 du filtre:"),n.a.createElement(p.SelectBase,{id:"time_side",name:"TimeSide",value:t.filters.timeSide,options:j,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{timeSide:e.value,pagingCurrent:1})}))}}),n.a.createElement("p",{className:"tabs__title"},"Temps:"),n.a.createElement(p.SelectBase,{id:"time_filter",name:"TimeFilter",value:t.filters.sortTimeType,options:M,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{sortTimeType:e.value,pagingCurrent:1})}))}})))),n.a.createElement(b.Tabs.Tab,{title:"Scripts"},n.a.createElement("div",{className:"tabs__container"},n.a.createElement("div",{className:"tabs__function-filter"},n.a.createElement("label",null,"filtre gauche"),n.a.createElement(C.a,{mode:"javascript",theme:"github",onChange:function(e){return o(Object(m.a)(Object(m.a)({},c),{},{filterLeftTemp:e}))},value:c.filterLeftTemp,name:"AceEditorLeft",editorProps:{$blockScrolling:!0}})),n.a.createElement("div",{className:"tabs__function-filter"},n.a.createElement("label",null,"filtre droite"),n.a.createElement(C.a,{mode:"javascript",theme:"github",onChange:function(e){return o(Object(m.a)(Object(m.a)({},c),{},{filterRightTemp:e}))},value:c.filterRightTemp,name:"AceEditorRight",editorProps:{$blockScrolling:!0}}))),n.a.createElement("div",{className:"tabs__container"},n.a.createElement("div",{className:"tabs__separator"},n.a.createElement(E.a,{onClick:function(){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{filterLeft:c.filterLeftTemp,filterRight:c.filterRightTemp})}))}},"Appliquer")),n.a.createElement(E.a,{onClick:function(){o(Object(m.a)(Object(m.a)({},c),{},{filterLeftTemp:'\ntry { \n    let body = JSON.parse(rawBodyInput);\n    rawBodyOutput = JSON.stringify(body);\n} catch(ex) {\n    console.log("Plantage parsing left");\n    console.log(ex.toString());\n    rawBodyOutput = rawBodyInput;\n}',filterRightTemp:'\ntry { \n    let body = JSON.parse(rawBodyInput);\n    rawBodyOutput = JSON.stringify(body);\n} catch(ex) {\n    console.log("Plantage parsing right");\n    console.log(ex.toString());\n    rawBodyOutput = rawBodyInput;\n}'}))}},"R\xe9initialiser"))),n.a.createElement(b.Tabs.Tab,{title:"Configuration"},n.a.createElement("div",{className:"tabs__container tabs__container--justify"},n.a.createElement("div",{className:"tabs__filter-container"},n.a.createElement("div",{className:"tabs__filter-container tabs__separator"},n.a.createElement(N,{labelText:"Modifier la regex de s\xe9lection des images",updateRegex:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{regexModifier:e})}))}}))))))),B&&n.a.createElement("h2",{className:"error-message"},"Le fichier est vide !"))},D=a(525),P=a.n(D),w=(a(894),function(){var e=Object(r.useState)({fileName:"Comparer un fichier JSON",imageDirectory:"",compareLocation:"",items:[],filters:{filterName:"KO",extensionName:"Tout",currentStatusCode:"Tout",searchedString:"",regexModifier:"",appliedScript:!1,sortTimeType:"Neutre",timeSide:"Gauche",pagingSelect:50,pagingCurrent:1,filterRight:'\ntry { \n    let body = JSON.parse(rawBodyInput);\n    rawBodyOutput = JSON.stringify(body);\n} catch(ex) {\n    console.log("Plantage parsing right");\n    console.log(ex.toString());\n    rawBodyOutput = rawBodyInput;\n}',filterLeft:'\ntry { \n    let body = JSON.parse(rawBodyInput);\n    rawBodyOutput = JSON.stringify(body);\n} catch(ex) {\n    console.log("Plantage parsing left");\n    console.log(ex.toString());\n    rawBodyOutput = rawBodyInput;\n}',filterRightTemp:'\ntry { \n    let body = JSON.parse(rawBodyInput);\n    rawBodyOutput = JSON.stringify(body);\n} catch(ex) {\n    console.log("Plantage parsing right");\n    console.log(ex.toString());\n    rawBodyOutput = rawBodyInput;\n}',filterLeftTemp:'\ntry { \n    let body = JSON.parse(rawBodyInput);\n    rawBodyOutput = JSON.stringify(body);\n} catch(ex) {\n    console.log("Plantage parsing left");\n    console.log(ex.toString());\n    rawBodyOutput = rawBodyInput;\n}'},statusCodes:[{value:"Tout",label:"Tout"}],isStatsTableShowed:!0}),t=Object(s.a)(e,2),a=t[0],l=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(c.Header,null,n.a.createElement(c.Name,{title:"ML-CLI",subtitle:"Made by AXA",img:P.a,alt:"Logo AXA"})),n.a.createElement(c.Title,{title:"Comparer un fichier JSON"===a.fileName?a.fileName:"Fichier en cours de visualisation : "+a.fileName}),n.a.createElement(x,{state:a,setState:l}),0===a.items.length?"":n.a.createElement(o.a,{state:a,setState:l}))}),A=function(){return n.a.createElement(w,null)};i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(A,null)),document.getElementById("root"));t.default=A}},[[527,3,4]]]);
//# sourceMappingURL=main.1f8aacc5.chunk.js.map