(this.webpackJsonpdiffmatchpatch=this.webpackJsonpdiffmatchpatch||[]).push([[0],{101:function(e,t,a){e.exports=a(213)},211:function(e,t,a){},213:function(e,t,a){"use strict";a.r(t),a.d(t,"App",(function(){return S}));var l=a(0),n=a.n(l),r=a(52),s=a.n(r),c=(a(106),a(107),a(108),a(100)),i=a(33),m=a(5),u=a(92),o=a.n(u),d=a(53),f=a.n(d),p=function(e,t){return e.filter((function(a){return"KO"===t?a.left.Body!==a.right.Body:"OK"===t?a.left.Body===a.right.Body:e}))},E=new o.a,_=function(e,t){E.Diff_Timeout=parseFloat(10);var a=E.diff_main(e,t);return E.diff_cleanupSemantic(a),E.diff_prettyHtml(a)},b=function(e){var t=e.state,a=e.setState,l=p(t.items,t.filterName);return n.a.createElement(n.a.Fragment,null,0===l.length?n.a.createElement("h2",{className:"table-title"},"Il n'y a aucun fichier de type ",t.filterName," !"):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"stats"},n.a.createElement("div",{className:"stats__title"},"Statistiques :"),n.a.createElement("div",{className:"stats__results"},n.a.createElement("div",{className:"stats__results-div stats__results-div--border"},n.a.createElement("span",null,"Fichiers OK : ",p(t.items,"OK").length)),n.a.createElement("div",{className:"stats__results-div stats__results-div--border"},n.a.createElement("span",null,"Fichiers KO : ",p(t.items,"KO").length)),n.a.createElement("div",{className:"stats__results-div"},n.a.createElement("span",null,"Total : ",t.items.length)))),l.map((function(e){return n.a.createElement("div",{key:e.id,className:"table-result"},n.a.createElement("div",{className:"table-result__header"},n.a.createElement("div",null,n.a.createElement("p",null,"R\xe9sultat fichier : ",e.fileName),n.a.createElement("h2",null,e.left.Body!==e.right.Body?n.a.createElement("span",{className:"table-result__row--red"},"KO"):n.a.createElement("span",{className:"table-result__row--green"},"OK")," Ratio temps \xe0 gauche - temps \xe0 droite : ",(e.right.TimeMs-e.left.TimeMs)/1e3," secondes")),n.a.createElement("div",{className:"table-result__collapse-button",onClick:function(){!function(e){var l=[];t.items.map((function(t){if(t.id===e){var a=Object(m.a)(Object(m.a)({},t),{},{collapse:!t.collapse});l.push(a)}else l.push(t)})),a(Object(m.a)(Object(m.a)({},t),{},{items:l}))}(e.id)}},e.collapse?"-":"+")),e.collapse&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"table-result__parse-button-container"},n.a.createElement("button",{className:"table-result__parse-button",type:"button",onClick:function(){!function(e,l){var n=[];t.items.map((function(t){if(t.id===e){var a=Object(m.a)(Object(m.a)({},t),{},{parse:!t.parse});n.push(a)}else n.push(t)})),a(Object(m.a)(Object(m.a)({},t),{},{items:n}))}(e.id)}},e.parse?"D\xe9parse":"Parse")),n.a.createElement("div",{className:"table-result__column-container"},n.a.createElement("div",{className:"table-result__column"},n.a.createElement("div",{className:"table-margin"},n.a.createElement("h3",null,e.left.Url),n.a.createElement("div",{className:"table-result__column--time-span"},"Time: ",e.left.TimeMs/1e3," seconds"),n.a.createElement("div",null,e.parse?n.a.createElement(f.a,{id:"json-pretty",data:e.left.Body}):e.left.Body))),n.a.createElement("div",{className:"table-result__column table-result__column--border-left"},n.a.createElement("div",{className:"table-margin"},n.a.createElement("h3",null,e.right.Url),n.a.createElement("div",{className:"table-result__column--time-span"},"Time: ",e.right.TimeMs/1e3," seconds"),n.a.createElement("div",null,e.parse?n.a.createElement(f.a,{id:"json-pretty",data:e.right.Body}):e.right.Body)))),n.a.createElement("div",{className:"table-result__row table-result__row--overflow",dangerouslySetInnerHTML:{__html:_(e.left.Body,e.right.Body)}})))}))))},v=a(93),h=a(97),N=a(98),g=a.n(N),O=a(207),y=function(e){var t=e.state,a=e.setState,l=function(e){try{var t=JSON.parse(e);return O(t)}catch(a){return e}};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"file-input"},n.a.createElement(v.File,{id:"file_loader",name:"placeJsonFile",accept:"application/*, text/plain",onChange:function(e){var n=e.values[0].file,r=new FileReader;r.onloadend=function(){var e,n=JSON.parse(r.result);a(Object(m.a)(Object(m.a)({},t),{},{items:(e=n,e.map((function(e){var t=l(e.Left.Body),a=l(e.Right.Body);return{fileName:e.FileName,left:{Body:t,TimeMs:e.Left.TimeMs,Url:e.Left.Url},right:{Body:a,TimeMs:e.Right.TimeMs,Url:e.Right.Url},id:g()(),parse:!1,collapse:!0}})))}))},r.readAsText(n)}})),n.a.createElement("div",{className:"select"},n.a.createElement("p",{className:"select__title"},"\xc9tat de fichier :"),n.a.createElement(h.SelectBase,{id:"select_type",name:"SelectType",value:t.filterName,options:t.optionsSelect,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filterName:e.value}))}})))},B=a(99),T=a.n(B),j=(a(211),function(){var e=Object(l.useState)({filterName:"KO",items:[],optionsSelect:[{value:"KO",label:"KO"},{value:"OK",label:"OK"},{value:"Tout",label:"Tout"}],parseRight:[],parseLeft:[]}),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(l.useEffect)((function(){}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(i.Header,null,n.a.createElement(i.Name,{title:"ML-CLI",subtitle:"Made by AXA",img:T.a,alt:"Logo AXA"})),n.a.createElement(i.Title,{title:"Comparer un fichier JSON"}),n.a.createElement(y,{state:a,setState:r}),0===a.items.length?"":n.a.createElement(b,{state:a,setState:r}))}),S=function(){return n.a.createElement(j,null)};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(S,null)),document.getElementById("root"));t.default=S}},[[101,1,2]]]);
//# sourceMappingURL=main.e23705c6.chunk.js.map