(this.webpackJsonpdiffmatchpatch=this.webpackJsonpdiffmatchpatch||[]).push([[0],{106:function(e,t,a){e.exports=a(229)},227:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t),a.d(t,"App",(function(){return K}));var l=a(0),n=a.n(l),r=a(52),i=a.n(r),s=(a(111),a(112),a(113),a(105)),c=a(33),m=a(4),u=a(97),o=a(98),d=a.n(o),f=a(53),p=a.n(f),b=function(e,t){return e.filter((function(a){return"KO"===t?a.left.Body!==a.right.Body:"OK"===t?a.left.Body===a.right.Body:e}))},v=function(e){return Array.from(e).reverse().join("")},E=function(e){var t=v(e),a=t.indexOf(".")+1,l=t.indexOf("_"),n=t.substr(a,l-a);return v(n)},g=new d.a,h=function(e,t){g.Diff_Timeout=parseFloat(10);var a=g.diff_main(e,t);return g.diff_cleanupSemantic(a),g.diff_prettyHtml(a)},_=function(e,t){if(!e)return 1;var a=t<1?1:t,l=e.length;return l>0?Math.ceil(l/a):1},N=function(e){var t,a,l=e.state,r=e.setState,i=b(l.items,l.filters.filterName),s=(t=i,a=l.filters.extensionName,t.filter((function(e){return"Tout"===a?t:"JPG/JPEG"===a?"JPG"===E(e.fileName).toUpperCase()||"JPEG"===E(e.fileName).toUpperCase():E(e.fileName).toUpperCase()===a}))),c=function(e,t,a){var l=0;a>1&&(l=a-1);var n=0;t>0&&(n=t);var r=e.length,i=l*n,s=r<i+n?r:i+n;return e.slice(i,s)}(s,l.filters.pagingSelect,l.filters.pagingCurrent);return n.a.createElement(n.a.Fragment,null,0===i.length?n.a.createElement("h2",{className:"table-title"},"Il n'y a aucun fichier de type ",l.filters.filterName," !"):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"stats"},n.a.createElement("div",{className:"stats__title"},"Statistiques :"),n.a.createElement("div",{className:"stats__results"},n.a.createElement("div",{className:"stats__results-div stats__results-div--border"},n.a.createElement("span",null,"Fichiers OK : ",b(l.items,"OK").length)),n.a.createElement("div",{className:"stats__results-div stats__results-div--border"},n.a.createElement("span",null,"Fichiers KO : ",b(l.items,"KO").length)),n.a.createElement("div",{className:"stats__results-div"},n.a.createElement("span",null,"Total : ",l.items.length)))),c.map((function(e){return n.a.createElement("div",{key:e.id,className:"table-result"},n.a.createElement("div",{className:"table-result__header"},n.a.createElement("div",null,n.a.createElement("p",null,"R\xe9sultat fichier : ",e.fileName),n.a.createElement("h2",null,e.left.Body!==e.right.Body?n.a.createElement("span",{className:"table-result__row--red"},"KO"):n.a.createElement("span",{className:"table-result__row--green"},"OK")," Ratio temps \xe0 gauche - temps \xe0 droite : ",(e.right.TimeMs-e.left.TimeMs)/1e3," secondes")),n.a.createElement("div",{className:"table-result__collapse-button",onClick:function(){!function(e){var t=[];l.items.map((function(a){if(a.id===e){var l=Object(m.a)(Object(m.a)({},a),{},{collapse:!a.collapse});t.push(l)}else t.push(a)})),r(Object(m.a)(Object(m.a)({},l),{},{items:t}))}(e.id)}},e.collapse?"-":"+")),e.collapse&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"table-result__parse-button-container"},n.a.createElement("button",{className:"table-result__parse-button",type:"button",onClick:function(){!function(e){var t=[];l.items.map((function(a){if(a.id===e){var l=Object(m.a)(Object(m.a)({},a),{},{parse:!a.parse});t.push(l)}else t.push(a)})),r(Object(m.a)(Object(m.a)({},l),{},{items:t}))}(e.id)}},e.parse?"D\xe9parse":"Parse")),n.a.createElement("div",{className:"table-result__column-container"},n.a.createElement("div",{className:"table-result__column"},n.a.createElement("div",{className:"table-margin"},n.a.createElement("div",null,"Copier le lien vers le fichier local dans votre presse-papiers:"),n.a.createElement("button",{className:"table-result__copy-clipboard-button",onClick:function(){var t=document.createElement("textarea");t.value=e.left.FileDirectory,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},"Cliquez ici"),n.a.createElement("h3",null,e.left.Url),n.a.createElement("div",{className:"table-result__column--time-span"},"Time: ",e.left.TimeMs/1e3," seconds"),n.a.createElement("div",null,e.parse?n.a.createElement(p.a,{id:"json-pretty",data:e.left.Body}):e.left.Body))),n.a.createElement("div",{className:"table-result__column table-result__column--border-left"},n.a.createElement("div",{className:"table-margin"},n.a.createElement("div",null,"Copier le lien vers le fichier local dans votre presse-papiers:"),n.a.createElement("button",{className:"table-result__copy-clipboard-button",onClick:function(){var t=document.createElement("textarea");t.value=e.right.FileDirectory,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},"Cliquez ici"),n.a.createElement("h3",null,e.right.Url),n.a.createElement("div",{className:"table-result__column--time-span"},"Time: ",e.right.TimeMs/1e3," seconds"),n.a.createElement("div",null,e.parse?n.a.createElement(p.a,{id:"json-pretty",data:e.right.Body}):e.right.Body)))),n.a.createElement("div",{className:"table-result__row table-result__row--overflow",dangerouslySetInnerHTML:{__html:h(e.left.Body,e.right.Body)}})))})),n.a.createElement(u.Paging,{currentPage:l.filters.pagingCurrent,numberPages:_(s,l.filters.pagingSelect),numberItems:l.filters.pagingSelect,id:"paging",onChange:function(e){r(Object(m.a)(Object(m.a)({},l),{},{filters:Object(m.a)(Object(m.a)({},l.filters),{},{pagingSelect:e.numberItems,pagingCurrent:e.page})}))}})))},y=a(99),O=a(54),j=a(103),C=a.n(j),F=a(223),T=[{value:"KO",label:"KO"},{value:"OK",label:"OK"},{value:"Tout",label:"Tout"}],S=[{value:"Tout",label:"Tout"},{value:"PNG",label:"PNG"},{value:"JPG/JPEG",label:"JPG/JPEG"},{value:"PDF",label:"PDF"},{value:"TIFF",label:"TIFF"}],B=function(e){var t=e.state,a=e.setState,l=function(e){try{var t=JSON.parse(e);return F(t)}catch(a){return e}};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"file-input"},n.a.createElement(y.File,{id:"file_loader",name:"placeJsonFile",accept:"application/*, text/plain",onChange:function(e){var n=e.values[0].file,r=new FileReader;r.onloadend=function(){var e,i=JSON.parse(r.result);a(Object(m.a)(Object(m.a)({},t),{},{items:(e=i,e.map((function(e){var t=l(e.Left.Body),a=l(e.Right.Body);return{fileName:e.FileName,left:{Body:t,TimeMs:e.Left.TimeMs,Url:e.Left.Url,FileDirectory:e.Left.FileDirectory},right:{Body:a,TimeMs:e.Right.TimeMs,Url:e.Right.Url,FileDirectory:e.Right.FileDirectory},id:C()(),parse:!1,collapse:!0}}))),fileName:n.name}))},r.readAsText(n)}})),n.a.createElement("div",{className:"select"},n.a.createElement("p",{className:"select__title"},"\xc9tat de fichier:"),n.a.createElement(O.SelectBase,{id:"select_type",name:"SelectType",value:t.filters.filterName,options:T,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{filterName:e.value})}))}})),n.a.createElement("div",{className:"select"},n.a.createElement("p",{className:"select__title"},"Extensions de fichiers:"),n.a.createElement(O.SelectBase,{id:"extension_type",name:"ExtensionType",value:t.filters.extensionName,options:S,onChange:function(e){a(Object(m.a)(Object(m.a)({},t),{},{filters:Object(m.a)(Object(m.a)({},t.filters),{},{extensionName:e.value})}))}})))},x=a(104),P=a.n(x),J=(a(227),function(){var e=Object(l.useState)({fileName:"Comparer un fichier JSON",items:[],filters:{filterName:"KO",extensionName:"Tout",pagingSelect:50,pagingCurrent:1},parseRight:[],parseLeft:[]}),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(l.useEffect)((function(){}),[]),n.a.createElement(n.a.Fragment,null,n.a.createElement(c.Header,null,n.a.createElement(c.Name,{title:"ML-CLI",subtitle:"Made by AXA",img:P.a,alt:"Logo AXA"})),n.a.createElement(c.Title,{title:"Comparer un fichier JSON"===a.fileName?a.fileName:"Fichier en cours de visualisation : "+a.fileName}),n.a.createElement(B,{state:a,setState:r}),0===a.items.length?"":n.a.createElement(N,{state:a,setState:r}))}),K=function(){return n.a.createElement(J,null)};i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(K,null)),document.getElementById("root"));t.default=K}},[[106,1,2]]]);
//# sourceMappingURL=main.0edc3f69.chunk.js.map